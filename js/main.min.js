!function(){"use strict";function e(){if("undefined"==typeof gsap||"undefined"==typeof ScrollTrigger)return void setTimeout(e,100);gsap.registerPlugin(ScrollTrigger,ScrollToPlugin),gsap.set("#heroHeadline",{opacity:0,y:30}),gsap.set("#heroTagline",{opacity:0,y:20}),gsap.set("#heroCta",{opacity:0,y:20}),gsap.set("#heroScroll",{opacity:0});const t=gsap.timeline({delay:.2});t.to("#heroHeadline",{opacity:1,y:0,duration:1,ease:"power3.out"},0),t.to("#heroTagline",{opacity:1,y:0,duration:.8,ease:"power2.out"},.4),t.to("#heroCta",{opacity:1,y:0,duration:.8,ease:"power2.out"},.7),t.to("#heroScroll",{opacity:1,duration:.5,ease:"power2.out"},1.2);const o=document.getElementById("cursorDot"),n=document.getElementById("cursorOutline");if(window.matchMedia("(pointer: fine)").matches){let M=0,X=0,H=0,D=0;function O(){o.style.left=M+"px",o.style.top=X+"px",H+=.15*(M-H),D+=.15*(X-D),n.style.left=H+"px",n.style.top=D+"px",requestAnimationFrame(O)}document.addEventListener("mousemove",e=>{M=e.clientX,X=e.clientY}),O();document.querySelectorAll("a, button, .service-card, .portfolio-item-inner").forEach(e=>{e.addEventListener("mouseenter",()=>document.body.classList.add("cursor-hover")),e.addEventListener("mouseleave",()=>document.body.classList.remove("cursor-hover"))})}const r=document.getElementById("nav"),a=document.getElementById("navToggle"),i=document.getElementById("mobileMenu"),c=document.querySelectorAll(".mobile-menu-link");let s=0;window.addEventListener("scroll",()=>{const e=window.scrollY;e>50?r.classList.add("scrolled"):r.classList.remove("scrolled"),s=e}),a.addEventListener("click",()=>{a.classList.toggle("active"),i.classList.toggle("active"),i.classList.contains("active")?document.body.style.overflow="hidden":document.body.style.overflow=""}),c.forEach(e=>{e.addEventListener("click",()=>{a.classList.remove("active"),i.classList.remove("active"),document.body.style.overflow=""})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=document.querySelector(e.getAttribute("href"));o&&gsap.to(window,{duration:1,scrollTo:{y:o,offsetY:80},ease:"power3.inOut"})})}),gsap.utils.toArray(".reveal-up").forEach(e=>{gsap.to(e,{scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none none"},opacity:1,y:0,duration:.8,ease:"power2.out"})}),gsap.utils.toArray(".reveal-text").forEach(e=>{gsap.to(e,{scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none none"},opacity:1,y:0,duration:.8,ease:"power3.out"})}),ScrollTrigger.create({trigger:".services-grid",start:"top 80%",onEnter:()=>{gsap.to(".service-card",{opacity:1,y:0,duration:.6,stagger:.1,ease:"power2.out"})},once:!0}),ScrollTrigger.create({trigger:".process-grid",start:"top 80%",onEnter:()=>{gsap.to(".process-step",{opacity:1,y:0,duration:.6,stagger:.15,ease:"power2.out"})},once:!0});const l=document.querySelector(".stats-grid");l&&(document.querySelectorAll(".stat-number").forEach(e=>{e.textContent="0"}),ScrollTrigger.create({trigger:l,start:"top bottom",onEnter:()=>{document.querySelectorAll(".stat-number").forEach(e=>{const t=parseInt(e.getAttribute("data-count"));gsap.fromTo(e,{innerText:0},{innerText:t,duration:2.5,ease:"power2.out",snap:{innerText:1},onUpdate:function(){e.textContent=Math.round(parseFloat(e.textContent))}})})},once:!0})),ScrollTrigger.create({trigger:".section-cta",start:"top 70%",onEnter:()=>{gsap.from(".cta-title",{y:60,opacity:0,duration:.8,ease:"power3.out"}),gsap.from(".cta-text",{y:40,opacity:0,duration:.6,ease:"power2.out",delay:.2}),gsap.from(".cta-answer span",{y:30,opacity:0,duration:.5,stagger:.1,ease:"back.out(1.7)",delay:.4}),gsap.from(".section-cta .btn",{y:20,opacity:0,duration:.5,ease:"power2.out",delay:.8})},once:!0}),gsap.to("#heroContent",{scrollTrigger:{trigger:".hero",start:"top top",end:"bottom top",scrub:!0},y:-80,opacity:.3,ease:"none"}),window.matchMedia("(pointer: fine)").matches&&document.querySelectorAll(".magnetic").forEach(e=>{e.addEventListener("mousemove",t=>{const o=e.getBoundingClientRect(),n=t.clientX-o.left-o.width/2,r=t.clientY-o.top-o.height/2;gsap.to(e,{x:.3*n,y:.3*r,duration:.4,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(e,{x:0,y:0,duration:.6,ease:"elastic.out(1, 0.5)"})})});const d=document.querySelectorAll(".testimonial-item"),u=document.querySelectorAll(".testimonial-dot");let g,p=0;function m(e){d.forEach(e=>e.classList.remove("active")),u.forEach(e=>e.classList.remove("active")),d[e].classList.add("active"),u[e].classList.add("active"),p=e}function y(){m((p+1)%d.length)}u.forEach(e=>{e.addEventListener("click",()=>{m(parseInt(e.getAttribute("data-index"))),clearInterval(g),g=setInterval(y,5e3)})}),g=setInterval(y,5e3);const v=document.getElementById("testimonialsSlider");function f(){if(v&&0!==d.length){var e=0;d.forEach(function(t){t.style.position="relative",t.style.opacity="1",t.style.visibility="hidden";var o=t.offsetHeight;o>e&&(e=o),t.style.position="",t.style.opacity="",t.style.visibility=""}),e>0&&(v.style.minHeight=e+"px")}}f(),window.addEventListener("resize",f);const h=document.getElementById("contactForm"),E=document.getElementById("formSuccess"),L=document.getElementById("formSuccessBtn");h&&E&&(h.addEventListener("submit",e=>{e.preventDefault();const t=h.querySelector(".btn-submit span"),o=t.textContent;t.textContent="A enviar...",fetch("https://formspree.io/f/mzdaewqk",{method:"POST",body:new FormData(h),headers:{Accept:"application/json"}}).then(e=>{e.ok?(h.reset(),h.style.display="none",E.classList.add("active")):(t.textContent="Erro ao enviar",setTimeout(()=>{t.textContent=o},3e3))}).catch(()=>{t.textContent="Erro ao enviar",setTimeout(()=>{t.textContent=o},3e3)})}),L&&L.addEventListener("click",()=>{E.classList.remove("active"),h.style.display="",h.querySelector(".btn-submit span").textContent="Enviar Mensagem"}));let x=!1;const b=window.matchMedia("(max-width: 768px)");function w(){if(x)return;x=!0;const e=document.getElementById("portfolioScrollWrapper"),t=document.getElementById("portfolioScrollTrack"),o=document.getElementById("portfolioProgressBar"),n=document.getElementById("portfolio");if(!t||!e||!n)return;if(b.matches)return n.style.height="auto",o&&gsap.set(o,{scaleX:0}),void e.addEventListener("scroll",function(){var t=e.scrollWidth-e.offsetWidth;if(t>0&&o){var n=e.scrollLeft/t;gsap.set(o,{scaleX:n})}},{passive:!0});function r(){return t.scrollWidth-e.offsetWidth}const a=r();a<=0||(n.style.height=window.innerHeight+a+"px",gsap.to(t,{x:()=>-r(),ease:"none",scrollTrigger:{trigger:n,start:"top top",end:"bottom bottom",scrub:!0,invalidateOnRefresh:!0,onRefresh:()=>{const e=r();n.style.height=window.innerHeight+e+"px"},onUpdate:e=>{o&&gsap.set(o,{scaleX:e.progress})}}}))}const I=document.querySelectorAll("#portfolioScrollTrack img");if(I.length>0){let R=0;const F=I.length;I.forEach(e=>{e.complete?(R++,R===F&&w()):(e.addEventListener("load",()=>{R++,R===F&&w()}),e.addEventListener("error",()=>{R++,R===F&&w()}))}),setTimeout(()=>{R<F&&w()},3e3)}else w();var S=document.getElementById("portfolioGrid");if(S){var T={projects:[],filtered:[],activeCategory:"Todos",lightboxIndex:-1,touchStartX:0,touchEndX:0};function P(e){var t=document.getElementById("pgFilterBar");t&&(t.innerHTML="",e.forEach(function(e){var o=document.createElement("button");o.className="pg-filter-btn"+("Todos"===e?" active":""),o.textContent=e,o.setAttribute("type","button"),o.addEventListener("click",function(){T.activeCategory=e,t.querySelectorAll(".pg-filter-btn").forEach(function(e){e.classList.remove("active")}),o.classList.add("active");var n="Todos"===e?T.projects:T.projects.filter(function(t){return t.category===e});T.filtered=n,W(n)}),t.appendChild(o)}))}function W(e){var t=document.getElementById("pgResultsCount");t&&(t.textContent=e.length+(1===e.length?" projeto":" projetos")),S.innerHTML="",0!==e.length?(e.forEach(function(e,t){var o=document.createElement("article");o.className="pg-card",o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.setAttribute("aria-label","Ver "+e.title),o.innerHTML='<div class="pg-card-img"><img src="'+e.image+'" alt="'+e.alt+'" loading="lazy" width="1536" height="1024"></div><div class="pg-card-info"><span class="pg-card-category">'+e.category+'</span><h3 class="pg-card-title">'+e.title+'</h3><p class="pg-card-desc">'+e.description+"</p></div>",o.addEventListener("click",function(){N(t)}),o.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),N(t))}),S.appendChild(o)}),gsap.fromTo(".pg-card",{opacity:0,y:20},{opacity:1,y:0,duration:.5,stagger:.06,ease:"power2.out"})):S.innerHTML='<div class="pg-empty">Nenhum projeto encontrado nesta categoria.</div>'}fetch("data/portfolio-data.json").then(function(e){return e.json()}).then(function(e){T.projects=e.projects,T.filtered=e.projects,P(e.categories),W(e.projects)}).catch(function(){S.innerHTML='<div class="pg-empty">Erro ao carregar os projetos. Tente novamente mais tarde.</div>'});var k=document.getElementById("pgLightbox"),B=document.getElementById("pgLightboxImg"),C=document.getElementById("pgLightboxTitle"),A=document.getElementById("pgLightboxDesc"),j=document.getElementById("pgLightboxCounter");function N(e){T.lightboxIndex=e,z(),k.classList.add("active"),document.body.style.overflow="hidden"}function Y(){k.classList.remove("active"),document.body.style.overflow="",T.lightboxIndex=-1}function z(){var e=T.filtered[T.lightboxIndex];e&&(B.src=e.image,B.alt=e.alt,C.textContent=e.title,A.textContent=e.description,j.textContent=T.lightboxIndex+1+" / "+T.filtered.length)}function U(e){var t=T.filtered.length;0!==t&&(T.lightboxIndex=(T.lightboxIndex+e+t)%t,z())}k&&(document.getElementById("pgLightboxClose").addEventListener("click",Y),document.getElementById("pgLightboxPrev").addEventListener("click",function(){U(-1)}),document.getElementById("pgLightboxNext").addEventListener("click",function(){U(1)}),k.addEventListener("click",function(e){e.target===k&&Y()}),document.addEventListener("keydown",function(e){k.classList.contains("active")&&("Escape"===e.key&&Y(),"ArrowLeft"===e.key&&U(-1),"ArrowRight"===e.key&&U(1))}),k.addEventListener("touchstart",function(e){T.touchStartX=e.changedTouches[0].screenX},{passive:!0}),k.addEventListener("touchend",function(e){T.touchEndX=e.changedTouches[0].screenX;var t=T.touchStartX-T.touchEndX;Math.abs(t)>50&&U(t>0?1:-1)},{passive:!0}))}const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";document.querySelectorAll(".nav-link:not(.cta-link)").forEach(e=>{const t=e.textContent;e.addEventListener("mouseenter",()=>{let o=0;const n=setInterval(()=>{e.textContent=t.split("").map((e,n)=>n<o?t[n]:q[Math.floor(52*Math.random())]).join(""),o+=.5,o>=t.length&&(clearInterval(n),e.textContent=t)},30)})})}function t(){var e=document.getElementById("cookieBanner"),t=document.getElementById("cookieAccept"),o=document.getElementById("cookieReject");e&&(localStorage.getItem("cookie_consent")||e.classList.add("active"),t&&t.addEventListener("click",function(){localStorage.setItem("cookie_consent","accepted"),e.classList.remove("active")}),o&&o.addEventListener("click",function(){localStorage.setItem("cookie_consent","rejected"),e.classList.remove("active")}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}();